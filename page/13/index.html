<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  
    <meta name="keywords" content="jiaozhengkui">
  
  
    <meta name="description" content="焦正奎的博客">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>
    
    焦正奎的博客</title>
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
  
    <link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">
  
  <script src="/js/pace.min.js"></script>
</head>
</html>
<body>
<main class="content">
  <section class="jumbotron">
  <div class="video">
    
      <div class="video-frame">
        <img src="/images/ocean/overlay-hero.png" alt="Decorative image frame">
      </div>
    
    <div class="video-media">
      <video playsinline autoplay loop muted data-autoplay poster="/images/ocean/ocean.png" x5-video-player-type="h5">
        <source src="/images/ocean/ocean.mp4" type="video/mp4">
        <source src="/images/ocean/ocean.ogv" type="video/ogg">
        <source src="/images/ocean/ocean.webm" type="video/webm">
        <p>Your user agent does not support the HTML5 Video element.</p>
      </video>
      <div class="video-overlay"></div>
    </div>
    <div class="video-inner text-center text-white">
      <h1><a href="/">焦正奎的博客</a></h1>
      <p>不要怕！不要悔！慢慢来！</p>
      <div><img src="/images/hexo-inverted.svg" class="brand" alt="焦正奎的博客"></div>
    </div>
    <div class="video-learn-more">
      <a class="anchor" href="#landingpage"><i class="fe fe-mouse"></i></a>
    </div>
  </div>
</section>

<div id="landingpage">
  <section class="outer">
    <article class="articles">
      
      <h1 class="page-type-title"></h1>
      
        
          <article id="post-index-2-beyond-bounds-0-0" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>

    <div class="article-inner">
        
            <header class="article-header">
                
  
    <h2 itemprop="name">
      <a class="article-title" href="/2015/01/12/index-2-beyond-bounds-0-0/">index 2 beyond bounds [0 .. 0]</a>
    </h2>
  
  




            </header>
            

                
                    <div class="article-meta">
                        <a href="/2015/01/12/index-2-beyond-bounds-0-0/" class="article-date">
  <time datetime="2015-01-12T10:14:18.000Z" itemprop="datePublished">2015-01-12</time>
</a>
                            
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>

                    </div>
                    

                        

                                    <div class="article-entry" itemprop="articleBody">
                                        


                                            

                                                
                                                                    <h4 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h4><ul>
<li>空数组就提示empty array</li>
<li>[x .. y] x 表示起始索引都是0，y 表示终止索引即count-1</li>
<li>例如 [0 .. 0] 代表数组的起始和终止索引都是0，即一个元素； [0 .. 1]代表数组包含两个元素；[0 .. 2]代表数组包含三个元素</li>
</ul>
<h4 id="由来"><a href="#由来" class="headerlink" title="由来"></a>由来</h4><p>&emsp;&emsp;release包突然有个偶现的crash，查看crash日志发现index 2 beyond bounds [0 .. 0]，想当然的以为 空数组 数组越界，然后就费心心思的排查什么情况下会出现空数组！然而折腾半天也没发现会出现空数组的情况，假数据，打log都试了一遍，最少也包含一个对象！最后还是归根到Crash日志上仔细排查，经过试验才发现对 [0 .. 0]理解错了！学艺不精，害人不浅呀！特此记录</p>
<h4 id="实验"><a href="#实验" class="headerlink" title="实验"></a>实验</h4><ul>
<li><p>空数组, 注意提示的 empty array</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 空数组</span><br><span class="line">NSMutableArray *photos  = [NSMutableArray array];</span><br><span class="line">NSLog(@&quot;--- %@&quot;,photos[0]);</span><br><span class="line"></span><br><span class="line">// Crash</span><br><span class="line">// Terminating app due to uncaught exception &apos;NSRangeException&apos;, reason: &apos;*** -[__NSArrayM objectAtIndexedSubscript:]: index 0 beyond bounds for empty array&apos;</span><br></pre></td></tr></table></figure>
</li>
<li><p>数组只有一个对象，注意提示 [0 .. 0]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 数组，包含一个对象</span><br><span class="line">NSMutableArray *photos  = [NSMutableArray array];</span><br><span class="line">[photos addObject:@0];</span><br><span class="line">NSLog(@&quot;--- %@&quot;,photos[1]);</span><br><span class="line"></span><br><span class="line">// Crash</span><br><span class="line">// Terminating app due to uncaught exception &apos;NSRangeException&apos;, reason: &apos;*** -[__NSArrayM objectAtIndexedSubscript:]: index 1 beyond bounds [0 .. 0]</span><br></pre></td></tr></table></figure>
</li>
<li><p>数组只有两个对象，注意提示 [0 .. 1]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 数组，包含两个对象</span><br><span class="line">NSMutableArray *photos  = [NSMutableArray array];</span><br><span class="line">[photos addObject:@0];</span><br><span class="line">[photos addObject:@1];</span><br><span class="line">NSLog(@&quot;--- %@&quot;,photos[2]);</span><br><span class="line"></span><br><span class="line">// Crash</span><br><span class="line">// Terminating app due to uncaught exception &apos;NSRangeException&apos;, reason: &apos;*** -[__NSArrayM objectAtIndexedSubscript:]: index 2 beyond bounds [0 .. 1]</span><br></pre></td></tr></table></figure>
</li>
<li><p>数组只有三个对象，注意提示 [0 .. 2]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 数组，包含三个对象</span><br><span class="line">NSMutableArray *photos  = [NSMutableArray array];</span><br><span class="line">[photos addObject:@0];</span><br><span class="line">[photos addObject:@1];</span><br><span class="line">[photos addObject:@2];</span><br><span class="line">NSLog(@&quot;--- %@&quot;,photos[4]);</span><br><span class="line"></span><br><span class="line">// Crash</span><br><span class="line">// Terminating app due to uncaught exception &apos;NSRangeException&apos;, reason: &apos;*** -[__NSArrayM objectAtIndexedSubscript:]: index 4 beyond bounds [0 .. 2]</span><br></pre></td></tr></table></figure>
</li>
</ul>

                                                                        
                                    </div>
                                    <footer class="article-footer">
                                        <a data-url="http://jiaozhengkui.top/2015/01/12/index-2-beyond-bounds-0-0/" data-id="ckd90jom4004zxc51bg8l4vbj" class="article-share-link">
                                            Share
                                        </a>
                                        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/原创/">原创</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/基础/">基础</a></li></ul>

                                    </footer>

    </div>

    

                

</article>
        
          <article id="post-MarkDown语法" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>

    <div class="article-inner">
        
            <header class="article-header">
                
  
    <h2 itemprop="name">
      <a class="article-title" href="/2014/12/26/MarkDown语法/">MarkDown语法</a>
    </h2>
  
  




            </header>
            

                
                    <div class="article-meta">
                        <a href="/2014/12/26/MarkDown语法/" class="article-date">
  <time datetime="2014-12-26T13:05:05.000Z" itemprop="datePublished">2014-12-26</time>
</a>
                            
  <div class="article-category">
    <a class="article-category-link" href="/categories/读书/">读书</a>
  </div>

                    </div>
                    

                        

                                    <div class="article-entry" itemprop="articleBody">
                                        


                                            

                                                
                                                                    <ul>
<li><strong>2018修改支持有道云笔记格式</strong></li>
<li><em>斜体</em></li>
<li><del>删除线</del></li>
<li>++下划线++</li>
<li>==黄色高亮==<h1 id="1级标题"><a href="#1级标题" class="headerlink" title="1级标题"></a>1级标题</h1><h2 id="2级标题"><a href="#2级标题" class="headerlink" title="2级标题"></a>2级标题</h2><h3 id="3级标题"><a href="#3级标题" class="headerlink" title="3级标题"></a>3级标题</h3><h4 id="4级标题"><a href="#4级标题" class="headerlink" title="4级标题"></a>4级标题</h4><h5 id="5级标题"><a href="#5级标题" class="headerlink" title="5级标题"></a>5级标题</h5><h6 id="6级标题"><a href="#6级标题" class="headerlink" title="6级标题"></a>6级标题</h6></li>
</ul>
<h2 id="分割线"><a href="#分割线" class="headerlink" title="分割线 "></a>分割线 </h2><p>引用</p>
<blockquote>
<p>真理就是民兵站在白杨树下迎面吹来一阵东风</p>
</blockquote>
<ul>
<li>分类</li>
<li>二级分类</li>
<li>三级分类</li>
<li>第二分类</li>
</ul>
<ol>
<li>第一</li>
<li>第二</li>
</ol>
<ul>
<li style="list-style: none"><input type="checkbox"> 待办事项</li>
<li style="list-style: none"><input type="checkbox" checked> 已完成</li>
</ul>
<p>html标签</p>
<html><br>&emsp;&emsp;<b>直接兼容html标签</b><br><br></html>


<p>超链接<br><a href="https://mermaidjs.github.io" target="_blank" rel="noopener">流程图、时序图和甘特图  mermaid参考</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 直接写代码</span><br><span class="line">int main(int argc, char * argv[]) &#123;</span><br><span class="line">@autoreleasepool &#123;</span><br><span class="line">return UIApplicationMain(argc, argv, nil, NSStringFromClass([AppDelegate class]));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>图片<br><img src="https://gss0.bdstatic.com/94o3dSag_xI4khGkpoWK1HF6hhy/baike/c0%3Dbaike80%2C5%2C5%2C80%2C26/sign=0fc9b8c7261f95cab2f89ae4a87e145b/1c950a7b02087bf49212ea50f1d3572c10dfcf89.jpg" alt="这里是图片"></p>
<p>表格<br>header 1 | header 2<br>—|—<br>row 1 col 1 | row 1 col 2<br>row 2 col 1 | row 2 col 2</p>
<p>数学公式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E = mc^2</span><br></pre></td></tr></table></figure></p>
<p>流程图，练手各种图形和线 TB - top bottom（自上而下）,LR - left right（从左到右）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">graph TB</span><br><span class="line">idA(开始) --描述--&gt; idD&#123;判断&#125;</span><br><span class="line">idD --YES--&gt;idE[过程2]</span><br><span class="line">idD --NO--&gt;idF[异常]</span><br><span class="line">idF --&gt; idZ(结束)</span><br><span class="line">idE --&gt; idZ</span><br><span class="line">idF -.虚线辅助.-&gt; idC((没用节点))</span><br><span class="line"></span><br><span class="line">subgraph 子流程名</span><br><span class="line">idC ==&gt; idG[do something]</span><br><span class="line">idG ==啥意思==&gt; idM&gt;这是啥图]</span><br><span class="line">end</span><br></pre></td></tr></table></figure></p>
<p>时序图</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">A-&gt;&gt;B: How about Baidu??</span><br><span class="line">B--&gt;&gt;A: baidu is Great!</span><br><span class="line">note left of B: B左边的注释</span><br><span class="line">note right of A: A右边的注释</span><br><span class="line">participant C</span><br><span class="line">loop ask myself</span><br><span class="line">C-&gt;&gt;C: is baidu good？ </span><br><span class="line">end</span><br><span class="line">note over C:I am alone</span><br></pre></td></tr></table></figure>
<p>甘特图<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">gantt</span><br><span class="line">dateFormat YYYY-MM-DD</span><br><span class="line">section 设计</span><br><span class="line">已完成:done,id1, 2014-01-01, 5d</span><br><span class="line">正执行:active, idUI,after id1, 2d</span><br><span class="line">section 开发</span><br><span class="line">待修正:crit, 2014-01-07, 9d</span><br><span class="line">section 测试</span><br><span class="line">原计划: 2014-01-02, 9d</span><br></pre></td></tr></table></figure></p>

                                                                        
                                    </div>
                                    <footer class="article-footer">
                                        <a data-url="http://jiaozhengkui.top/2014/12/26/MarkDown语法/" data-id="ckd90jokt0023xc51lx7i1h2b" class="article-share-link">
                                            Share
                                        </a>
                                        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/其他/">其他</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/原创/">原创</a></li></ul>

                                    </footer>

    </div>

    

                

</article>
        
          <article id="post-UIImage技巧" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>

    <div class="article-inner">
        
            <header class="article-header">
                
  
    <h2 itemprop="name">
      <a class="article-title" href="/2014/11/28/UIImage技巧/">UIImage技巧</a>
    </h2>
  
  




            </header>
            

                
                    <div class="article-meta">
                        <a href="/2014/11/28/UIImage技巧/" class="article-date">
  <time datetime="2014-11-28T05:10:22.000Z" itemprop="datePublished">2014-11-28</time>
</a>
                            
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>

                    </div>
                    

                        

                                    <div class="article-entry" itemprop="articleBody">
                                        


                                            

                                                
                                                                    <h3 id="PNG-amp-JPEG"><a href="#PNG-amp-JPEG" class="headerlink" title="PNG &amp; JPEG"></a>PNG &amp; JPEG</h3><ul>
<li>JPEG可以非常好的压缩图片，但是JPEG是失真的，它去除了人眼很难察觉的信息，并且这样做可以超出像gzip这样压缩算法的限制，但是压缩算法也更复杂。相对来说，JPEG图片更小，加载更快，但是解压的步骤要消耗更长的时间。</li>
<li>对于PNG来说它的压缩是无损的，所以图片相对JPEG来说也大很多，加载时间会比JPEG更长，但是解码会相对较快，而且Xcode会把PNG图片进行解码优化之后引入工程。</li>
</ul>
<h3 id="加载"><a href="#加载" class="headerlink" title="加载"></a>加载</h3><ul>
<li><p>imageNamed 第一次加载慢点，有缓存，缓存什么时候清除由系统决定</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UIImage *image = [UIImage imageNamed:@&quot;logo&quot;];</span><br></pre></td></tr></table></figure>
</li>
<li><p>imageWithContentsOfFile 用于一次性的本地图片，无缓存，加载快点</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NSString *filePath = [NSString stringWithFormat:@&quot;%@/%@.png&quot;, [[NSBundle mainBundle] resourcePath], @&quot;logo&quot;];</span><br><span class="line">UIImage *image = [UIImage imageWithContentsOfFile:filePath];</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="内存消耗计算"><a href="#内存消耗计算" class="headerlink" title="内存消耗计算"></a>内存消耗计算</h3><ul>
<li>与分辨率无关，和宽高有关<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Width x Height x 4 / 1024 / 1024 （M）</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="contentMode理解"><a href="#contentMode理解" class="headerlink" title="contentMode理解"></a>contentMode理解</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">UIViewContentModeScaleToFill, //图片根据imageView的大小显示，图片会变形</span><br><span class="line">UIViewContentModeScaleAspectFit, // 按比例压缩，图片大边缩小策略即图片总能完全显示，空白部分透明</span><br><span class="line">UIViewContentModeScaleAspectFill, // 按比例压缩，图片小边放大策略即图片总是显示不完全，图片居中</span><br><span class="line">//下面的属性都是不会拉伸图片的</span><br><span class="line">UIViewContentModeRedraw, //调用setNeedsDisplay 方法时,就会重新渲染图片</span><br><span class="line">UIViewContentModeCenter,//显示图片中间</span><br><span class="line">UIViewContentModeTop, //显示图片顶部</span><br><span class="line">UIViewContentModeBottom, //显示图片底部</span><br><span class="line">UIViewContentModeLeft, //显示图片左边</span><br><span class="line">UIViewContentModeRight, //显示图片右边</span><br><span class="line">UIViewContentModeTopLeft, //显示图片左上</span><br><span class="line">UIViewContentModeTopRight, //显示图片右上</span><br><span class="line">UIViewContentModeBottomLeft, //显示图片左下</span><br><span class="line">UIViewContentModeBottomRight, //显示图片右下</span><br><span class="line">*/</span><br><span class="line">imageView.contentMode = UIViewContentModeScaleAspectFit;</span><br></pre></td></tr></table></figure>

                                                                        
                                    </div>
                                    <footer class="article-footer">
                                        <a data-url="http://jiaozhengkui.top/2014/11/28/UIImage技巧/" data-id="ckd90jole003pxc51jm4eesb5" class="article-share-link">
                                            Share
                                        </a>
                                        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/原创/">原创</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/基础/">基础</a></li></ul>

                                    </footer>

    </div>

    

                

</article>
        
          <article id="post-Block基本使用" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>

    <div class="article-inner">
        
            <header class="article-header">
                
  
    <h2 itemprop="name">
      <a class="article-title" href="/2014/11/09/Block基本使用/">Block基本使用</a>
    </h2>
  
  




            </header>
            

                
                    <div class="article-meta">
                        <a href="/2014/11/09/Block基本使用/" class="article-date">
  <time datetime="2014-11-09T03:59:12.000Z" itemprop="datePublished">2014-11-09</time>
</a>
                            
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>

                    </div>
                    

                        

                                    <div class="article-entry" itemprop="articleBody">
                                        


                                            

                                                
                                                                    <h3 id="Block是啥？"><a href="#Block是啥？" class="headerlink" title="Block是啥？"></a>Block是啥？</h3><ul>
<li>个人理解：就是一个函数指针，java的代码块</li>
<li>生命周期：block里面代码执行完</li>
<li>参数捕获：block能捕获外部变量，并copy到block内部使用！用__block可破</li>
<li>循环引用：block捕获了self，self又强持有block！用<strong>weak </strong>strong可破</li>
</ul>
<h3 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">#import &quot;ViewController.h&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 声明一种block类型，以后拿来直接用</span><br><span class="line">typedef int(^block4Type)(int, int);</span><br><span class="line"></span><br><span class="line">@interface ViewController ()</span><br><span class="line">// 注意block5即是block的“函数名”，也是属性的属性名</span><br><span class="line">@property (nonatomic, copy) int(^block5)(int, int);</span><br><span class="line">@property (nonatomic, copy) NSString *str;</span><br><span class="line">// 当然也可使用block4Type类型</span><br><span class="line">@property (nonatomic, copy) block4Type block6;</span><br><span class="line">//</span><br><span class="line">@property (nonatomic, copy) void(^cycleBlock)(NSString *title);</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@implementation ViewController</span><br><span class="line"></span><br><span class="line">- (void)viewDidLoad &#123;</span><br><span class="line">[super viewDidLoad];</span><br><span class="line">// Do any additional setup after loading the view.</span><br><span class="line">// 有参数有返回值</span><br><span class="line">int (^block1)(int, int) = ^(int num1, int num2) &#123;</span><br><span class="line">return num1 + num2;</span><br><span class="line">&#125;;</span><br><span class="line">NSLog(@&quot;block1：%d&quot;,block1(5,4));</span><br><span class="line">// 无返回 void</span><br><span class="line">void (^block2)(int, int) = ^(int num1, int num2) &#123;</span><br><span class="line">NSLog(@&quot;block2：%d&quot;,num1 + num2);</span><br><span class="line">&#125;;</span><br><span class="line">block2(4,5);</span><br><span class="line">// 注意没参数也要有括号，实现部分有没有参数括号都行</span><br><span class="line">int (^block3)() = ^ &#123;</span><br><span class="line">return 3;</span><br><span class="line">&#125;;</span><br><span class="line">NSLog(@&quot;block3：%d&quot;,block3());</span><br><span class="line">// 使用声明的block类型，初始化一个block实例</span><br><span class="line">block4Type block4 = ^(int num1, int num2) &#123;</span><br><span class="line">return num1 + num2;</span><br><span class="line">&#125;;</span><br><span class="line">NSLog(@&quot;block4：%d&quot;,block4(5,4));</span><br><span class="line">// Block作为属性</span><br><span class="line">self.block5 =  ^(int num1, int num2) &#123;</span><br><span class="line">return num1 + num2;</span><br><span class="line">&#125;;</span><br><span class="line">NSLog(@&quot;block5：%d&quot;,self.block5(5,4));</span><br><span class="line">self.block6 =  ^(int num1, int num2) &#123;</span><br><span class="line">return num1 + num2;</span><br><span class="line">&#125;;</span><br><span class="line">NSLog(@&quot;block6：%d&quot;,self.block6(5,4));</span><br><span class="line">// block捕获外部变量</span><br><span class="line">int total7 = 4;</span><br><span class="line">int (^block7)(int) = ^(int num)&#123;</span><br><span class="line">//        total7 += num; // 报错，提示需要__block</span><br><span class="line">return total7 + num;</span><br><span class="line">&#125;;</span><br><span class="line">NSLog(@&quot;block7：%d, total:%d&quot;,block7(4), total7);</span><br><span class="line">//</span><br><span class="line">__block int total8 = 4;</span><br><span class="line">int (^block8)(int) = ^(int num)&#123;</span><br><span class="line">total8 += num;</span><br><span class="line">return total8;</span><br><span class="line">&#125;;</span><br><span class="line">NSLog(@&quot;block8：%d, total:%d&quot;,block8(4), total8);</span><br><span class="line">// 以下代码会报错误： Capturing &apos;self&apos; strongly in this block is likely to lead to a retain cycle</span><br><span class="line">//    self.cycleBlock = ^(NSString *title) &#123;</span><br><span class="line">//        self.title = [NSString stringWithFormat:@&quot;hello, %@&quot;,title];</span><br><span class="line">//    &#125;;</span><br><span class="line">//    self.cycleBlock(@&quot;world&quot;);</span><br><span class="line"></span><br><span class="line">// 破解循环引用</span><br><span class="line">__weak typeof(self)weakSelf = self;</span><br><span class="line">self.cycleBlock = ^(NSString *title) &#123;</span><br><span class="line">//        __strong typeof(weakSelf)self = weakSelf; //如果你需要强制有self实例，需打开此注释</span><br><span class="line">weakSelf.title = [NSString stringWithFormat:@&quot;hello, %@&quot;,title];</span><br><span class="line">&#125;;</span><br><span class="line">self.cycleBlock(@&quot;world&quot;);</span><br><span class="line">&#125;</span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
<h4 id="同步？异步？"><a href="#同步？异步？" class="headerlink" title="同步？异步？"></a>同步？异步？</h4><ul>
<li>试验1<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">NSLog(@&quot;第一行&quot;);</span><br><span class="line">void (^firstBlock)(void) = ^&#123;</span><br><span class="line">sleep(3);</span><br><span class="line">NSLog(@&quot;第二行&quot;);</span><br><span class="line">&#125;;</span><br><span class="line">firstBlock();</span><br><span class="line">NSLog(@&quot;第三行&quot;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&emsp;&emsp;结论：block是同步的，先执行为2，再执行3</p>
<ul>
<li>试验2<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">NSLog(@&quot;第4行&quot;);</span><br><span class="line">dispatch_async(dispatch_get_global_queue(0, 0), ^&#123;</span><br><span class="line">NSLog(@&quot;第5行&quot;);</span><br><span class="line">void (^secondBlock)(void) = ^&#123;</span><br><span class="line">sleep(3);</span><br><span class="line">NSLog(@&quot;第6行&quot;);</span><br><span class="line">&#125;;</span><br><span class="line">secondBlock();</span><br><span class="line">NSLog(@&quot;第7行&quot;);</span><br><span class="line">dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">sleep(3);</span><br><span class="line">NSLog(@&quot;第8行&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">NSLog(@&quot;第9行&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">NSLog(@&quot;第10行&quot;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&emsp;&emsp;结论：dispatch_async是异步的</p>

                                                                        
                                    </div>
                                    <footer class="article-footer">
                                        <a data-url="http://jiaozhengkui.top/2014/11/09/Block基本使用/" data-id="ckd90jok6000dxc510tvsxe7d" class="article-share-link">
                                            Share
                                        </a>
                                        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/原创/">原创</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/基础/">基础</a></li></ul>

                                    </footer>

    </div>

    

                

</article>
        
          <article id="post-Alpha-Hidden-Opaque" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>

    <div class="article-inner">
        
            <header class="article-header">
                
  
    <h2 itemprop="name">
      <a class="article-title" href="/2014/10/31/Alpha-Hidden-Opaque/">Alpha&amp;Hidden&amp;Opaque</a>
    </h2>
  
  




            </header>
            

                
                    <div class="article-meta">
                        <a href="/2014/10/31/Alpha-Hidden-Opaque/" class="article-date">
  <time datetime="2014-10-31T12:27:22.000Z" itemprop="datePublished">2014-10-31</time>
</a>
                            
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>

                    </div>
                    

                        

                                    <div class="article-entry" itemprop="articleBody">
                                        


                                            

                                                
                                                                    <h4 id="Alpha"><a href="#Alpha" class="headerlink" title="Alpha"></a>Alpha</h4><ul>
<li>alpha是不透明度，属性为浮点类型的值，取值范围从0到1.0，表示从完全透明到完全不透明，默认1.0完全不透明。</li>
<li>alpha值会影响到UIView跟其所有subview，如果当前View的alpha为0，则当前View和所有的subview都看不到了</li>
<li>在动画块中设置alpha具有动画效果</li>
<li>当前view的alpha为0时，当前UIView会从响应者链中移除，而响应者链中的下一个会成为第一响应者。</li>
</ul>
<h4 id="Hidden"><a href="#Hidden" class="headerlink" title="Hidden"></a>Hidden</h4><ul>
<li>Hidden属性为BOOL值，用来表示UIView是否隐藏，<strong>默认值是NO即不隐藏，隐藏为YES！</strong></li>
<li>当Hidden为YES时，当前的UIView和subview都会被隐藏，而不管subview的hidden值为多少</li>
<li>当Hidden为YES时，当前UIView会从响应者链中移除，而响应者链中的下一个会成为第一响应者</li>
<li>在动画块中设置hidden没有动画效果</li>
<li>复杂交互中，可以先加载所有subViews，然后根据状态来设置某个view的hidden属性，避免重复开销</li>
</ul>
<h4 id="Opaque"><a href="#Opaque" class="headerlink" title="Opaque"></a>Opaque</h4><ul>
<li><p>opaque也是表示当前的UIView的不透明度,默认YES,官方文档:alpha为1,则opaque为YES；alpha小于1，opaque为NO，但是如果反了，产生的后果是不可预料的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">An opaque view is expected to fill its bounds with entirely opaque content—that is, the content should have an alpha value of 1.0. If the view is opaque and either does not fill its bounds or contains wholly or partially transparent content,the results are unpredictable. You should always set the value of this property to NO if the view is fully or partially transparent.</span><br></pre></td></tr></table></figure>
</li>
<li><p>当opaque属性被设为YES时，GPU就不会再利用图层颜色合成公式去合成真正的色值，节省性能</p>
</li>
</ul>

                                                                        
                                    </div>
                                    <footer class="article-footer">
                                        <a data-url="http://jiaozhengkui.top/2014/10/31/Alpha-Hidden-Opaque/" data-id="ckd90jok20008xc51m2pta5a9" class="article-share-link">
                                            Share
                                        </a>
                                        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/UI/">UI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/原创/">原创</a></li></ul>

                                    </footer>

    </div>

    

                

</article>
        
          <article id="post-MRC和ARC混编" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>

    <div class="article-inner">
        
            <header class="article-header">
                
  
    <h2 itemprop="name">
      <a class="article-title" href="/2014/10/19/MRC和ARC混编/">MRC和ARC混编</a>
    </h2>
  
  




            </header>
            

                
                    <div class="article-meta">
                        <a href="/2014/10/19/MRC和ARC混编/" class="article-date">
  <time datetime="2014-10-19T04:55:46.000Z" itemprop="datePublished">2014-10-19</time>
</a>
                            
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>

                    </div>
                    

                        

                                    <div class="article-entry" itemprop="articleBody">
                                        


                                            

                                                
                                                                    <p>&emsp;&emsp; OC中提供了两种内存管理机制MRC（MannulReference Counting）手动引用计数；ARC （Automatic Reference Counting）自动引用计数。<br></p>
<p>&emsp;&emsp; Xcode4.1及其以前版本只有MRC，我们必须手动管理内存，比如要手动retain、release、autorelease等<br></p>
<p>&emsp;&emsp; Xcode4.1后的版本可以使用ARC，让系统自己管理内存。</p>
<p>&emsp;&emsp; ARC 和MRC 混编怎么处理？</p>
<ul>
<li>如果你的工程使用的MRC 模式，则为 ARC 模式的代码文件加入 -fobjc-arc 标签。</li>
<li>如果你的工程使用的是 ARC 模式，则为MRC 模式的代码文件加入 -fno-objc-arc 标签。</li>
</ul>
<p>&emsp;&emsp; 位置：打开工程找到target -&gt; Build Phases -&gt; Compile Sources -&gt; 对应的 .m -&gt; 双击CompliperFlags 添加 -fobjc-arc （ARC模式） -fno-objc-arc（MRC模式）-&gt; 保存</p>

                                                                        
                                    </div>
                                    <footer class="article-footer">
                                        <a data-url="http://jiaozhengkui.top/2014/10/19/MRC和ARC混编/" data-id="ckd90jokp001sxc51exv6cw0r" class="article-share-link">
                                            Share
                                        </a>
                                        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/原创/">原创</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/基础/">基础</a></li></ul>

                                    </footer>

    </div>

    

                

</article>
        
          <article id="post-为啥叫发消息" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>

    <div class="article-inner">
        
            <header class="article-header">
                
  
    <h2 itemprop="name">
      <a class="article-title" href="/2014/10/08/为啥叫发消息/">为啥叫发消息</a>
    </h2>
  
  




            </header>
            

                
                    <div class="article-meta">
                        <a href="/2014/10/08/为啥叫发消息/" class="article-date">
  <time datetime="2014-10-08T04:42:33.000Z" itemprop="datePublished">2014-10-08</time>
</a>
                            
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>

                    </div>
                    

                        

                                    <div class="article-entry" itemprop="articleBody">
                                        


                                            

                                                
                                                                    <p>&emsp;&emsp;从Java转到OC，遇到一个以前不太在意的问题：发消息还是函数调用？刚开始自学的时候认为 [NSObject alloc] 就是函数调用，跟int ret = max(a, b); 或者 System.out.println(“Hello World!”); 没区别，只不过是换汤不换药，换了个马甲而已！直到今天，被同事郑重其事的告诉我：不是函数调用，而是向某某发消息！<br><br>&emsp;&emsp;究其原因，可能如下：</p>
<ol>
<li><p>函数调用是编译时已经确定的，接收方肯定能做出反应；而发消息是编译时只是调用objc_msgSend方法，运行时再确定接收方是否能做出反应</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// </span><br><span class="line">objc_msgSend(receiver, selector, arg1, arg2, ...)</span><br></pre></td></tr></table></figure>
</li>
<li><p>函数调用是写死的关系，而发消息时，接受者可以选择转发等操作让别人干活</p>
</li>
<li>发消息是不是等同于广播（OC的通知）? 个人认为不是，广播的接受者可以选择无视，也可以选择执行；而OC的发消息，接受者只能选择执行，交给别人执行或者Crash</li>
</ol>
<p>&emsp;&emsp; 以上就是对发消息的个人理解</p>

                                                                        
                                    </div>
                                    <footer class="article-footer">
                                        <a data-url="http://jiaozhengkui.top/2014/10/08/为啥叫发消息/" data-id="ckd90jomf005xxc51gwzsmo79" class="article-share-link">
                                            Share
                                        </a>
                                        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/原创/">原创</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/基础/">基础</a></li></ul>

                                    </footer>

    </div>

    

                

</article>
        
          <article id="post-atomic和nonatomic区别" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>

    <div class="article-inner">
        
            <header class="article-header">
                
  
    <h2 itemprop="name">
      <a class="article-title" href="/2014/10/03/atomic和nonatomic区别/">atomic和nonatomic区别</a>
    </h2>
  
  




            </header>
            

                
                    <div class="article-meta">
                        <a href="/2014/10/03/atomic和nonatomic区别/" class="article-date">
  <time datetime="2014-10-03T13:24:11.000Z" itemprop="datePublished">2014-10-03</time>
</a>
                            
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>

                    </div>
                    

                        

                                    <div class="article-entry" itemprop="articleBody">
                                        


                                            

                                                
                                                                    <h4 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h4><table>
<thead>
<tr>
<th>atomic</th>
<th>nonatomic</th>
</tr>
</thead>
<tbody>
<tr>
<td>默认的</td>
<td>非默认，需手写</td>
</tr>
<tr>
<td>速度慢，耗性能</td>
<td>速度快，不太耗性能</td>
</tr>
<tr>
<td>线程不安全</td>
<td>线程不安全</td>
</tr>
</tbody>
</table>
<p>&emsp;&emsp; atomic 和 nonatomic 的区别在于，系统自动生成的 getter/setter 方法不一样。如果你自己写 getter/setter，那 atomic/nonatomic/retain/assign/copy 这些关键字只起提示作用，写不写都一样。<br><br>&emsp;&emsp;对于atomic的属性，系统生成的 getter/setter 会保证 get、set 操作的完整性，不受其他线程影响。比如，线程 A 的 getter 方法运行到一半，线程 B 调用了 setter：那么线程 A 的 getter 还是能得到一个完好无损的对象。<br><br>&emsp;&emsp;而nonatomic就没有这个保证了。所以，nonatomic的速度要比atomic快。<br></p>
<h4 id="为什么atomic线程不安全"><a href="#为什么atomic线程不安全" class="headerlink" title="为什么atomic线程不安全"></a>为什么atomic线程不安全</h4><p>&emsp;&emsp;假设有一个 atomic 的属性 “name”，如果线程 A 调[self setName:@”A”]，线程 B 调[self setName:@”B”]，线程 C 调[self name]，那么所有这些不同线程上的操作都将依次顺序执行——也就是说，如果一个线程正在执行 getter/setter，其他线程就得等待。因此，属性 name 是读/写安全的。<br>但是，如果有另一个线程 D 同时在调[name release]，那可能就会crash，因为 release 不受 getter/setter 操作的限制。也就是说，<strong>atomic属性只能说是读/写安全的，但并不是线程安全的</strong>，因为别的线程还能进行读写之外的其他操作。线程安全需要开发者自己来保证。<br>如果 name 属性是 nonatomic 的，那么上面例子里的所有线程 A、B、C、D 都可以同时执行，可能导致无法预料的结果。如果是 atomic 的，那么 A、B、C 会串行，而 D 还是并行的。</p>
<h4 id="更新一篇详解"><a href="#更新一篇详解" class="headerlink" title="更新一篇详解"></a>更新一篇详解</h4><ul>
<li><a href="http://mrpeak.cn/blog/ios-thread-safety/" target="_blank" rel="noopener">http://mrpeak.cn/blog/ios-thread-safety/</a></li>
</ul>
<h4 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h4><ul>
<li><a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ObjectiveC/Chapters/ocProperties.html" target="_blank" rel="noopener">官方文档</a></li>
<li><a href="https://stackoverflow.com/questions/588866/whats-the-difference-between-the-atomic-and-nonatomic-attributes/589392#589392" target="_blank" rel="noopener">What’s the difference between the atomic and nonatomic attributes?</a></li>
</ul>

                                                                        
                                    </div>
                                    <footer class="article-footer">
                                        <a data-url="http://jiaozhengkui.top/2014/10/03/atomic和nonatomic区别/" data-id="ckd90jolm004bxc5103hxr6cr" class="article-share-link">
                                            Share
                                        </a>
                                        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/原创/">原创</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/基础/">基础</a></li></ul>

                                    </footer>

    </div>

    

                

</article>
        
          <article id="post-引用计数引发的感想" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>

    <div class="article-inner">
        
            <header class="article-header">
                
  
    <h2 itemprop="name">
      <a class="article-title" href="/2014/09/23/引用计数引发的感想/">引用计数引发的感想</a>
    </h2>
  
  




            </header>
            

                
                    <div class="article-meta">
                        <a href="/2014/09/23/引用计数引发的感想/" class="article-date">
  <time datetime="2014-09-23T04:54:18.000Z" itemprop="datePublished">2014-09-23</time>
</a>
                            
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>

                    </div>
                    

                        

                                    <div class="article-entry" itemprop="articleBody">
                                        


                                            

                                                
                                                                    <h3 id="序"><a href="#序" class="headerlink" title="序"></a>序</h3><p>&emsp;&emsp;由于半道出家，从Java的垃圾回收机制，一下转到了引用计数机制，确实诸多不顺，简单写下我理解。我所知道的内存释放操作基本上有3类：手动释放、自动垃圾回收和引用计数！</p>
<h4 id="手动释放（C语言）"><a href="#手动释放（C语言）" class="headerlink" title="手动释放（C语言）"></a>手动释放（C语言）</h4><ul>
<li>程序员自己挖坑，自己埋</li>
<li>优点：内存使用率高，性能高</li>
<li>缺点：需要手动malloc 和 free，自己开辟内存，自己释放内存。由于编译器啥也管不了，所以所有的操作都依赖程序员的严谨性，另外需要注意的是，开辟内存和释放内存都必须注意野指针问题</li>
</ul>
<h4 id="自动垃圾回收（Java）"><a href="#自动垃圾回收（Java）" class="headerlink" title="自动垃圾回收（Java）"></a>自动垃圾回收（Java）</h4><ul>
<li>当创建对象时，GC就开始监视这个对象的地址、大小以及使用情况。通常，GC采用有向图的方式记录和管理heap（堆）中的素有对象。通过这种方式确定“不可达的”并清除</li>
<li>优点：简单，几乎不用程序员管</li>
<li>缺点：内存利用率低，造成大量碎片化空间，性能消耗高</li>
</ul>
<h4 id="引用计数（OC）"><a href="#引用计数（OC）" class="headerlink" title="引用计数（OC）"></a>引用计数（OC）</h4><ul>
<li>每个对象保存，持有当前对象的个数，当没人只有当前对象，即引用对象为0时，就释放内存</li>
<li>优点：可靠，</li>
<li>缺点：循环引用，MRC时需要手动更新引用计数，ARC不用手动更新引用计数</li>
</ul>
<h3 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h3><p>&emsp;&emsp;以前写的过于肤浅，自动垃圾回收包含引用计数算法，即垃圾回收是概念，引用计数是算法垃圾回收算法。常用的垃圾回收算法有：</p>
<ul>
<li><p>引用计数算法：给对象中添加一个引用计数器，每当有一个地方引用它时，计数器值就加1；当引用失效时，计数器值就减1；任何时刻计数器都为0的对象就是不再被使用的，垃圾收集器将回收该对象使用的内存。引用计数算法实现简单，效率很高，微软的COM技术、ActionScript、Python等都使用了引用计数算法进行内存管理，但是引用计数算法对于对象之间相互循环引用问题难以解决，因此java并没有使用引用计数算法。</p>
</li>
<li><p>根搜索算法：通过一系列的名为“GC Root”的对象作为起点，从这些节点向下搜索，搜索所走过的路径称为引用链(Reference Chain)，当一个对象到GC Root没有任何引用链相连时，则该对象不可达，该对象是不可使用的，垃圾收集器将回收其所占的内存。</p>
</li>
</ul>

                                                                        
                                    </div>
                                    <footer class="article-footer">
                                        <a data-url="http://jiaozhengkui.top/2014/09/23/引用计数引发的感想/" data-id="ckd90jone008qxc51bjf8tir1" class="article-share-link">
                                            Share
                                        </a>
                                        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/原创/">原创</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/基础/">基础</a></li></ul>

                                    </footer>

    </div>

    

                

</article>
        
          <article id="post-idea训练套路" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>

    <div class="article-inner">
        
            <header class="article-header">
                
  
    <h2 itemprop="name">
      <a class="article-title" href="/2014/09/10/idea训练套路/">idea训练套路</a>
    </h2>
  
  




            </header>
            

                
                    <div class="article-meta">
                        <a href="/2014/09/10/idea训练套路/" class="article-date">
  <time datetime="2014-09-10T04:34:08.000Z" itemprop="datePublished">2014-09-10</time>
</a>
                            
  <div class="article-category">
    <a class="article-category-link" href="/categories/读书/">读书</a>
  </div>

                    </div>
                    

                        

                                    <div class="article-entry" itemprop="articleBody">
                                        


                                            

                                                
                                                                    <p>PS：很多年前copy的，不记得从哪整的了！如果侵犯版权请告诉我</p>
<ol>
<li>把它颠倒过来</li>
<li>把它摆平</li>
<li>把缩小</li>
<li>把颜色变换一下</li>
<li>把它变为圆形</li>
<li>使它更大</li>
<li>把它变为正方形</li>
<li>使它更小</li>
<li>使它更长</li>
<li>使它闪动</li>
<li>使它更短</li>
<li>使它发出火花</li>
<li>使它可以看到</li>
<li>点燃它</li>
<li>使它逾起一般情况</li>
<li>使它发萤光</li>
<li>把它放进文字里</li>
<li>使它沉重</li>
<li>把它插进音乐里</li>
<li>使它成为引火物</li>
<li>结合文字和音乐</li>
<li>使它成为引火物</li>
<li>结合文字. 音乐和图画</li>
<li>参加竞赛</li>
<li>结合音乐和图画删除文字</li>
<li>参加打赌</li>
<li>不要图画</li>
<li>使它成为年轻型的</li>
<li>不要文字</li>
<li>使它成为壮年型的</li>
<li>沉默无声</li>
<li>把它分割开</li>
<li>使它重复</li>
<li>保守地说</li>
<li>使它变成立体</li>
<li>夸张地说</li>
<li>使它变成平面</li>
<li>当替代品卖</li>
<li>变换它的形态</li>
<li>发现新用途</li>
<li>只变更一部分</li>
<li>减掉它</li>
<li>使它成为一组</li>
<li>撕开它</li>
<li>为捐献或义卖而销售</li>
<li>使它化合</li>
<li>鼓励它</li>
<li>用显而易见的</li>
<li>机动化</li>
<li>把要素重新配置</li>
<li>电气代</li>
<li>降低调子</li>
<li>使它活动</li>
<li>提高调子</li>
<li>使它相反</li>
<li>割开它</li>
<li>它像是某种东西的代替品</li>
<li>混合在一起</li>
<li>使它罗曼蒂克</li>
<li>改用另一种形式表现</li>
<li>增添怀旧的诉求</li>
<li>使它的速度加快</li>
<li>使它看起来流行</li>
<li>使它缓慢下来</li>
<li>使它看起来像未来派</li>
<li>使它飞行</li>
<li>使它成为某种物品的部分代替</li>
<li>使它浮起</li>
<li>使它更强壮</li>
<li>使它滚转</li>
<li>使它更耐久</li>
<li>把它切成片状</li>
<li>运用象征</li>
<li>使它成为粉状</li>
<li>它是写实派</li>
<li>以性欲作诉求</li>
<li>运用新艺术形式</li>
<li>使它凝缩</li>
<li>变为摄影技巧</li>
<li>使它弯曲</li>
<li>变换为图解方式</li>
<li>使它成对</li>
<li>使它变更形式</li>
<li>使它倾斜</li>
<li>用图画说明你的故事</li>
<li>使它悬浮半空中</li>
<li>使用新广告媒体</li>
<li>使它垂直站立</li>
<li>创造新广告媒体</li>
<li>把它由里向外翻转</li>
<li>使它更强烈</li>
<li>把它向旁边转</li>
<li>使它更冷</li>
<li>摇动它</li>
<li>增加香味</li>
<li>把它遮蔽起来</li>
<li>变换气味</li>
<li>使它不对称</li>
<li>把它除臭</li>
<li>使它不对称</li>
<li>将它向儿童诉求</li>
<li>反它隔开</li>
<li>将它向男士诉求</li>
<li>使它与其他相敌对</li>
<li>将它向妇女诉求</li>
<li>使它锐利</li>
<li>价钱更低</li>
<li>变更它的外形</li>
<li>抬高价格</li>
<li>要它绕一周</li>
<li>变更成份</li>
<li>把它框起来</li>
<li>增加新成份</li>
<li>把它卷成一圈</li>
<li>拧搓它</li>
<li>把它填满</li>
<li>使它透明</li>
<li>把它弄成空的</li>
<li>使它不透明</li>
<li>把它打开</li>
<li>用不同背景</li>
<li>把拼错</li>
<li>用不同环境</li>
<li>给它起我上绰号</li>
<li>使它富有魅力</li>
<li>把它封印起来</li>
<li>使用视觉效果</li>
<li>把它移转过来</li>
<li>使用另外的物料</li>
<li>把它捆包起来</li>
<li>增加人的趣味</li>
<li>把它集中起来</li>
<li>变更密度</li>
<li>把它推开</li>
<li>置于不同的货柜</li>
<li>使它成为交替的</li>
<li>变换包装</li>
<li>使它凝固起来</li>
<li>使密度增加</li>
<li>使它溶化</li>
<li>小型化</li>
<li>使成凝胶状</li>
<li>增加至最大限</li>
<li>使它软化</li>
<li>把它除掉</li>
<li>使它硬化</li>
<li>使它轻便</li>
<li>使蒸发变为汽化</li>
<li>使它可以折叠</li>
<li>加上抑扬顿挫</li>
<li>趋向偏激</li>
<li>使它更狭窄</li>
<li>如夏天炎热</li>
<li>使它更宽广</li>
<li>如冬天寒冷</li>
<li>使它更滑稽</li>
<li>使拟人化</li>
<li>使它成为被讽刺的</li>
<li>使它更暗</li>
<li>用简短的文案</li>
<li>使它发光</li>
<li>用冗长的文案</li>
<li>使它灼</li>
<li>发现第二种用途</li>
<li>使它更有营养</li>
<li>使它合成在一起</li>
<li>把它倒进瓶中</li>
<li>把它当作用具来卖</li>
<li>把它倒进罐中</li>
<li>使它清净</li>
<li>把它放进盒中</li>
<li>把它倒进壶中</li>
<li>把它倒进缸中</li>
<li>把它弄直</li>
<li>把它褶曲</li>
<li>把它缠起来</li>
<li>提升声誉</li>
<li>免费提供</li>
<li>以成本价出售</li>
<li>提供特价</li>
<li>增加慰藉的诉求</li>
<li>提供维护服务</li>
<li>运用不同的织法</li>
<li>使它变成香郁宜人</li>
<li>使它变成酸的</li>
<li>使它濡湿</li>
<li>使它脱水</li>
<li>使它干燥</li>
<li>把它冻起来</li>
<li>把它抛出去</li>
<li>使它无刺激性的</li>
<li>使它单纯化</li>
<li>使它具有刺激性的</li>
<li>把以上各项任意组合</li>
</ol>
<p>其实这些对那些从事平面设计和影视广告设计的技术人员是有很大的帮助的。<br><br>我有时候就有这种感觉—-思路被困看看这些就会有新的想法。<br><br>等时间长了以后就不用常看这些了。<br></p>

                                                                        
                                    </div>
                                    <footer class="article-footer">
                                        <a data-url="http://jiaozhengkui.top/2014/09/10/idea训练套路/" data-id="ckd90jom3004wxc51nwx2jae0" class="article-share-link">
                                            Share
                                        </a>
                                        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/其他/">其他</a></li></ul>

                                    </footer>

    </div>

    

                

</article>
        
    </article>
    
  
    
      <nav class="page-nav">
        <a class="extend prev" rel="prev" href="/page/12/">Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="page-number" href="/page/12/">12</a><span class="page-number current">13</span><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" href="/page/14/">Next</a>
      </nav>
    
  </section>
</div>

  <footer class="footer">
  <div class="outer">
    <div class="float-right">
      <ul class="list-inline">
  
    <li><i class="fe fe-bar-chart"></i> <span id="busuanzi_value_site_pv"></span></li>
  
    <li><i class="fe fe-smile-alt"></i> <span id="busuanzi_value_site_uv"></span></li>
  
</ul>
    </div>
    <ul class="list-inline">
      <li>&copy; 2020 焦正奎的博客</li>
      <li>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></li>
      <li>Theme  <a href="https://github.com/zhwangart/hexo-theme-ocean">Ocean</a></li>
    </ul>
  </div>
</footer>

</main>
<aside class="sidebar">
  <button class="navbar-toggle"></button>
<nav class="navbar">
  
    <div class="logo">
      <a href="/"><img src="/images/author.jpg" alt="焦正奎的博客"></a>
    </div>
  
  <ul class="nav nav-main">
    
      <li class="nav-item">
        <a class="nav-item-link" href="/">Home</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/archives">Archives</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/gallery">Gallery</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/about">About</a>
      </li>
    
    <li class="nav-item">
      <a class="nav-item-link nav-item-search" title="Search">
        <i class="fe fe-search"></i>
        Search
      </a>
    </li>
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      <div class="totop" id="totop">
  <i class="fe fe-rocket"></i>
</div>
    </li>
    <li class="nav-item">
      
        <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
          <i class="fe fe-feed"></i>
        </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
</aside>
<script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.justifiedGallery.min.js"></script>
<script src="/js/lazyload.min.js"></script>
<script src="/js/busuanzi-2.3.pure.min.js"></script>

  <script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/ocean.js"></script>

</body>
</html>